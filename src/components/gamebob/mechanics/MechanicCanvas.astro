---
import './MechanicCanvas.css';
import { Icon } from "astro-icon/components";

interface Props {
    id: string;
    instruction?: string;
    subInstruction?: string;
    aspectRatio?: "video" | "square" | "portrait";
    verticalOnMobile?: boolean;
}

const {
    id,
    instruction = "Haz click para empezar",
    subInstruction = "Click / Tap para interactuar",
    aspectRatio = "video",
    verticalOnMobile = false,
} = Astro.props;

const aspectClass = `aspect-${aspectRatio}`;
const verticalClass = verticalOnMobile ? "vertical-mobile" : "";
const containerClass = `mechanic-canvas-container ${aspectClass} ${verticalClass}`.trim();
---

<div class={containerClass}>
    <canvas id={id} class="mechanic-canvas"></canvas>

    <div id={`${id}-overlay`} class="mechanic-canvas-overlay">
        <Icon name="mdi:cursor-default-click" class="mechanic-canvas-icon" />
        <p class="mechanic-canvas-instruction">{instruction}</p>
        <p class="mechanic-canvas-subinstruction">{subInstruction}</p>
    </div>

    <slot />
</div>
