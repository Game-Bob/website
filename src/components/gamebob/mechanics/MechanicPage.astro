---
import './MechanicPage.css';
import GameBobLayout from "../../../layouts/GameBobLayout.astro";
import { Icon } from "astro-icon/components";
import { useTranslations, useLanguagePath } from "../../../i18n/utils";

interface Props {
    title: string;
    description: string;
    githubUrl?: string;
    codeUrl?: string;
    image?: string;
    lang: string;
}

const { title, description, githubUrl, codeUrl, image, lang } = Astro.props;
const t = useTranslations(lang as any);
const l = useLanguagePath(lang as any);

---

<GameBobLayout title={title} description={description} image={image}>
    <div class="mechanic-page-container">
        <div class="mechanic-header">
            <div class="mechanic-header-content">
                <a href={l("/mechanics/")} class="mechanic-back-link">
                    <Icon name="mdi:arrow-left" class="mechanic-back-icon" />
                    {t("mechanics.backLink")}
                </a>
                <h1 class="mechanic-title">
                    <slot name="icon" />
                    {title}
                </h1>
                <p class="mechanic-description">
                    {description}
                </p>
            </div>

            <div class="mechanic-actions">
                {
                    githubUrl && (
                        <a
                            href={githubUrl}
                            target="_blank"
                            rel="noopener noreferrer"
                            class="mechanic-action-btn"
                        >
                            <Icon name="mdi:github" class="mechanic-action-icon" />
                            {t("mechanics.github")}
                        </a>
                    )
                }
                {
                    codeUrl && (
                        <a
                            href={codeUrl}
                            target="_blank"
                            rel="noopener noreferrer"
                            class="mechanic-action-btn"
                        >
                            <Icon name="mdi:code-tags" class="mechanic-action-icon" />
                            {t("mechanics.code")}
                        </a>
                    )
                }
            </div>
        </div>

        <slot />
    </div>
</GameBobLayout>
